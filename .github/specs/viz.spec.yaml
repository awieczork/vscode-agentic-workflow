# Spec: viz (prompt)
# Generated by @interviewer from Churn Usage Analysis seed

artifact_type: prompt
spec_version: 1
name: viz
purpose: "One-shot ggplot2 chart generation — produce publication-ready R visualization code from a natural language description"
domain: data-science
priority: P3

task_description: >
  Generate ggplot2 code for the described visualization. The code should:
  1. Use tidy data principles — expect a dataframe in long/tidy format
  2. Apply appropriate geom based on the data type and chart request
  3. Include proper axis labels, title, and legend
  4. Use a clean theme (theme_minimal or theme_bw)
  5. Handle common needs: color by group, faceting, coordinate adjustments
  6. Add comments explaining aesthetic mappings and customization points

tools_needed: []
variables: ["chart_description"]
output_format: "R code block with ggplot2 code, commented for customization"

tech:
  languages: [R]
  frameworks: [tidyverse]

sources:
  - url: "https://rstudio.github.io/cheatsheets/html/data-visualization.html"
    about: "Data visualization with ggplot2"
    relevance: "Geom selection, aesthetic mappings, and theme configuration reference"

concepts:
  - name: "grammar of graphics"
    relevance: "ggplot2 layering system — data, aesthetics, geoms, facets, themes"

argument_hint: "Describe the chart you want — data columns, chart type, grouping, and any styling preferences"
example_input: "Bar chart showing average time_on_app by churn_status, grouped by customer_segment, with error bars"
example_output: "ggplot2 code block with geom_col, geom_errorbar, facet_wrap, and theme_minimal"

interviewer_notes: >
  User chose general ggplot2 scope — not churn-specific visualizations.
  Deliverable is internal report/presentation, so chart quality matters.
  No agent_mode specified — runs with current agent context.
